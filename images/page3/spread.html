<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>无标题文档</title>
<style>
*{margin:0;padding:0;list-style:none;}
ul{width:630px;margin:0 auto;position:relative; height:630px;}
ul li{width:190px;height:190px;margin:10px; background:red;float:left;}
input{margin-left:150px;}
</style>
<script src="move2.js"></script>
<script>
window.onload=function(){
	var oUl = document.getElementById('ul1');
	var aLi = oUl.getElementsByTagName('li');
	var oBtn = document.getElementById('btn');
	var aPos = [];
	var ready = true;
	var content=0;
	for(var i=0;i<aLi.length;i++){
		aPos.push({left:aLi[i].offsetLeft,top:aLi[i].offsetTop,width:aLi[i].offsetWidth,height:aLi[i].offsetHeight});	
		aLi[i].style.left = aPos[i].left+'px';
		aLi[i].style.top = aPos[i].top+'px';
		aLi[i].style.background='url(big/'+content+'.jpg)'
		content++;
	}
	for(var i=0;i<aLi.length;i++){
		aLi[i].style.position="absolute";
		aLi[i].style.margin = 0;	
	}	
	oBtn.onclick=function(){
		if(!ready){
			return;	
		}
		ready=false
		up()
	}
	
	function up(){
		var i=0;
		var timer = setInterval(function(){
			(function(index){
				move(aLi[index],{left:0,top:0,width:0,height:0},{complete:function(){
					if(index==aLi.length-1){
						for(var i=0;i<aLi.length;i++){
							content++;
							content%=20;
							aLi[i].style.background='url(big/'+content+'.jpg)'
						}
						down();	
					}	
				}});	
			})(i)
		i++;
		if(i==aLi.length){
			clearInterval(timer);	
		}
		},100);
	
	}
	function down(){
		var i=aLi.length-1;
		var timer = setInterval(function(){
			(function(index)
				{move(aLi[index],{left:aPos[index].left,top:aPos[index].top,width:aPos[index].width,height:aPos[index].height},{complete:function(){
			if(i==0){
				ready=true;	
			}		
			}});
			
			})(i)
			i--;
			if(i==-1){
				clearInterval(timer);	
			}	
		},100);	
	}
};
</script>
<style>#BAIDU_DSPUI_FLOWBAR,.adsbygoogle,.ad,div[class^="ad-widsget"],div[id^="div-gpt-ad-"]{display:none !important;}</style></head>

<body>
<input type="button" value="换一批" id="btn">
<ul id="ul1">
	<li style="left: 10px; top: 10px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/0.jpg)"></li>
	<li style="left: 220px; top: 10px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/1.jpg);"></li>
	<li style="left: 430px; top: 10px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/2.jpg);"></li>
	<li style="left: 10px; top: 220px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/3.jpg);"></li>
	<li style="left: 220px; top: 220px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/4.jpg);"></li>
	<li style="left: 430px; top: 220px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/5.jpg);"></li>
	<li style="left: 10px; top: 430px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/6.jpg);"></li>
	<li style="left: 220px; top: 430px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/7.jpg);"></li>
	<li style="left: 430px; top: 430px; position: absolute; margin: 0px; width: 190px; height: 190px; background: url(big/8.jpg);"></li>
</ul>


</body>

</html>